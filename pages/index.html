<!DOCTYPE html>
<html>
<head>
	<title></title>
	<!-- <script src="../js/navbar.js"></script> -->
	<link href="../css/bootstrap.min.css" rel="stylesheet">
	<link href="../bootflat/css/bootflat.css" rel="stylesheet">
	<link href="../css/page_index_1.css" rel="stylesheet">
	<script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>
	  <!-- Load jQuery JS -->
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <!-- Load jQuery UI Main JS  -->
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="../js/script.js"></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
	<script src="../js/storage.js"></script>

</head>
<body>
	<nav class="nav navbar-default" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-4"></button>
				<a href="#" class="navbar-brand">Jumpstart</a>
			</div>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-4">
				<button type="button" class="btn btn-success navbar-btn pull-right" id="email">Sign in</button>
				<div class="btn-group pull-right" style="margin-right:10px">
					</button>
					<ul class="dropdown-menu" role="menu">
						<li><a href="#">Action</a></li>
					</ul>
				</div>
			</div>
			
		</div>
	</nav>
	<div class="container">
		<div class="row">
			<div class="col-sm-3"><br>
				<img src="../img/avatar.png" id="photo" class="thumbnail img-responsive"/>
				<div class="list-group">
					<a class="list-group-item waves-effect waves-light btn modal-trigger">Profile</a>
					<a class="list-group-item waves-effect waves-light btn modal-trigger">Dashboard</a>
					<a class="list-group-item waves-effect waves-light btn modal-triggers">Projects</a>
					<a class="list-group-item waves-effect waves-light btn modal-trigger"  data-toggle="modal" data-target="#modal_create_project">Create Project</a>
				</div>
				<hr>
				<center><p>Joined on Jun 30, 2015</p></center>
			</div>
			<div class="col-sm-9"><br>
				<div class="alert alert-success" role="alert">
					<p>Updating your profile with your name, location, and a profile picture helps other Jumpstart users get to know you.</p>
					<br><button class="btn btn-success list-group-item waves-effect waves-light btn modal-trigger"  data-toggle="modal" data-target="#modal_edit_profile">Edit Profile</button>
				</div>
				<div class="page-header">
  					<h2>Projects</h2>
				</div>
				<div class="row" id="project_container">
					
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade"  id="modal_edit_profile" tabindex="-1" role="dialog">
  		<div class="modal-dialog" role="document">
   			 <div class="modal-content">
      			<div class="modal-header">
        			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        			<h4 class="modal-title">Create Project</h4>
      			</div>
      			<div class="modal-body">
					<div class="form-group">
						<label>Ads URL</label>
						<input type="text" class="form-control" name="url" placeholder="https://URL" id="url" />
					</div>

					<div class="form-group">
						<label>Project Name</label>
						<input type="text" class="form-control" name="projectname" placeholder="Project Name" id="projectName" />
					</div>

					<div class="form-group">
						<label>Description</label>
						<textarea class="form-control" placeholder="Description" name="description" id="projectDescription1"></textarea>
					</div>

					<div class="form-group">
						<label>Optional (*)</label>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label>*Start Date </label>
								<input type="text" class="form-control" name="startdate" placeholder="Start Date" id="startDate" />
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label>*End Date</label>
								<input type="text" class="form-control" name="enddate" placeholder="End Date" id="endDate" />
							</div>
						</div>
					</div>
					<div class="form-group">
						<label>Needed Fund</label>
						<input type="text" class="form-control" name="neededfund" placeholder="Needed Fund" id="neededFund" />
					</div>
					<div class="form-group">
						<label>Slogan</label>
						<textarea class="form-control" placeholder="Slogan" name="slogan" id="slogan"></textarea>
					</div>	
      			</div>
      			<div class="modal-footer">
        			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        			<button type="button" class="btn btn-primary">Save changes</button>
      			</div>
    		</div><!-- /.modal-content -->
  		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<div class="modal fade"  id="modal_create_project" tabindex="-1" role="dialog">
  		<div class="modal-dialog" role="document">
   			 <div class="modal-content">
      			<div class="modal-header">
        			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        			<h4 class="modal-title">Create Project</h4>
      			</div>
      			<div class="modal-body">
					<div class="form-group">
						<label>Ads URL</label>
						<input type="text" class="form-control" name="url" placeholder="https://URL" id="url" />
					</div>

					<div class="form-group">
						<label>Project Name</label>
						<input type="text" class="form-control" name="projectname" placeholder="Project Name" id="projectName" />
					</div>

					<div class="form-group">
						<label>Description</label>
						<textarea class="form-control" placeholder="Description" name="description" id="projectDescription1"></textarea>
					</div>

					<div class="form-group">
						<label>Optional (*)</label>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label>*Start Date </label>
								<input type="text" class="form-control" name="startdate" placeholder="Start Date" id="startDate" />
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label>*End Date</label>
								<input type="text" class="form-control" name="enddate" placeholder="End Date" id="endDate" />
							</div>
						</div>
					</div>
					<div class="form-group">
						<label>Needed Fund</label>
						<input type="text" class="form-control" name="neededfund" placeholder="Needed Fund" id="neededFund" />
					</div>
					<div class="form-group">
						<label>Slogan</label>
						<textarea class="form-control" placeholder="Slogan" name="slogan" id="slogan"></textarea>
					</div>

					<div class="form-group">
						<input type="file" value="upload" id="fileButton" onclick="upload()" />
					</div>
					<div class="form-group">
						<button type="button" class="btn navbar-btn btn-warning " onclick="push()">PUSH</button>
					</div>

					<div class="form-group">
						<button type="button" class="btn navbar-btn btn-warning " onclick="retrieve()">RETRIEVE</button>
					</div>	
      			</div>
      			<div class="modal-footer">
        			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        			<button type="button" class="btn btn-primary">Save changes</button>
      			</div>
    		</div><!-- /.modal-content -->
  		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<script src="../js/fbase.js"></script>
	<script type="text/javascript">

		firebase.auth().onAuthStateChanged(firebaseUser => {
				if(firebaseUser){
					var uid = firebaseUser.uid;
					console.log(firebaseUser.email);
					var email = firebaseUser.email;					
    				// var image = firebaseUser.photoUrl;
    				// $("#profile").attrib("src",image);
					var emailDisplay = document.getElementById("email").innerHTML = email;
					var rootRef = firebase.database().ref().child("Jumpstart").child("SME2");
					var index = 0;
					var container = $("#project_container"); 
					container.append("<center id=\"loading\"><p>Loading...</p></center>");
					rootRef.on("value",snap => {
						var name = snap.child(uid).child("project_list").child("0").child("name").val();
						var description = snap.child(uid).child("project_list").child("0").child("description").val();
						//console.log(snap.child("project_list").child("0").child("name").val());
						console.log(name);
						console.log(description);
						$("#loading").text("");
						container.append(getBody(name,name,description,index++));
					});

				}
		});
		function getBody(title,projName,projectDescription,index){
				var temp ="<div class=\"col-xs-6 col-sm-4 \">";
				temp+="<div class=\"panel panel-default\">";
					temp+=getHeading(title);
						temp+="<div class=\"panel-body\">";
							temp+="<span id=\"projectDescription\">"+projectDescription+"</span> <br><br>";
						temp+="</div>";
					temp+="</div>";	
				temp+="</div>";
				if((index+1)%3==0){
					temp+="</div><div class=\"row\">";
				}

			return temp;
		}
		function getHeading(title){
			return "<div class=\"panel-heading panel-banner\"><h4>"+title+"<h4></div>";
		}
	</script>
		
	<!-- <script src="../js/Auth.js"></script> -->
</body>
</html>	